(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13d53ecc"],{"333d":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[n("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},a=[];n("c5f6");Math.easeInOutQuad=function(e,t,n,i){return e/=i/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)};var r=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function l(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function s(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function o(e,t,n){var i=s(),a=e-i,o=20,u=0;t="undefined"===typeof t?500:t;var c=function e(){u+=o;var s=Math.easeInOutQuad(u,i,a,t);l(s),u<t?r(e):n&&"function"===typeof n&&n()};c()}var u={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&o(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&o(0,800)}}},c=u,d=(n("e498"),n("2877")),p=Object(d["a"])(c,i,a,!1,null,"6af373ef",null);t["a"]=p.exports},"62ec":function(e,t,n){"use strict";var i=n("8cde"),a=n.n(i);a.a},7456:function(e,t,n){},"8cde":function(e,t,n){},e382:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("添加用户")]),e._v(" "),n("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.rolesList,border:"",fit:""}},[n("el-table-column",{attrs:{align:"center",label:"编号",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.id)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"名称",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.name)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"角色",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.role)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"邮箱",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.email)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center","class-name":"status-col",label:"状态",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",{attrs:{type:e._f("statusFilter")(t.row.status)}},[e._v("\n          "+e._s(t.row.status)+"\n        ")])]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作","min-width":"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return e.handleEdit(t)}}},[e._v("修改")]),e._v(" "),n("el-button",{attrs:{disabled:"published"===t.row.status,type:"success",size:"small"},on:{click:function(n){return e.handleEdit(t)}}},[e._v("发布")]),e._v(" "),n("el-button",{attrs:{disabled:"deleted"===t.row.status,type:"danger",size:"small"},on:{click:function(n){return e.handleDelete(t)}}},[e._v("删除")])]}}])})],1),e._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}}),e._v(" "),n("el-dialog",{attrs:{visible:e.dialogVisible,title:"edit"===e.dialogType?"修改用户":"添加用户"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-form",{attrs:{model:e.user,"label-width":"80px","label-position":"left"}},[n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{attrs:{placeholder:"name"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"简介"}},[n("el-input",{attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"写下你的简介吧"},model:{value:e.user.description,callback:function(t){e.$set(e.user,"description",t)},expression:"user.description"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"邮箱"}},[n("el-input",{attrs:{type:"email",placeholder:"User@Email.Com"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"角色"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.user.role,callback:function(t){e.$set(e.user,"role",t)},expression:"user.role"}},e._l(e.options,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),n("div",{staticStyle:{"text-align":"right"}},[n("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.confirmRole}},[e._v("确认")])],1)],1)],1)},a=[],r=n("db72"),l=(n("7f7f"),n("6762"),n("2fdb"),n("96cf"),n("3b8d")),s=n("75fc"),o=(n("ac4d"),n("8a81"),n("ac6a"),n("df7c")),u=n.n(o),c=n("ed08"),d=n("333d"),p=n("c24f"),h={id:"",name:"",description:"",role:"",status:"",email:""},f={components:{Pagination:d["a"]},filters:{statusFilter:function(e){var t={published:"success",created:"info",deleted:"danger",modified:"primary"};return t[e]}},data:function(){return{user:Object.assign({},h),routes:[],rolesList:[],dialogVisible:!1,dialogType:"new",defaultProps:{children:"children",label:"title"},listQuery:{page:1,limit:20},total:0,listLoading:!0,options:[{value:"admin",label:"管理员"},{value:"editor",label:"编辑"}]}},computed:{routesData:function(){return this.routes}},created:function(){this.getList()},methods:{generateRoutes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=[],i=!0,a=!1,r=void 0;try{for(var l,s=e[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var o=l.value;if(!o.hidden){var c=this.onlyOneShowingChild(o.children,o);o.children&&c&&!o.alwaysShow&&(o=c);var d={path:u.a.resolve(t,o.path),title:o.meta&&o.meta.title};o.children&&(d.children=this.generateRoutes(o.children,d.path)),n.push(d)}}}catch(p){a=!0,r=p}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n},generateArr:function(e){var t=this,n=[];return e.forEach(function(e){if(n.push(e),e.children){var i=t.generateArr(e.children);i.length>0&&(n=[].concat(Object(s["a"])(n),Object(s["a"])(i)))}}),n},handleAdd:function(){this.user=Object.assign({},h),this.dialogType="new",this.dialogVisible=!0},handleEdit:function(e){this.dialogType="edit",this.dialogVisible=!0,this.user=Object(c["b"])(e.row),this.user.status="modified"},handleDelete:function(e){var t=this,n=e.$index,i=e.row;this.$confirm("Confirm to remove the user?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then(Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(p["b"])(i.id);case 2:t.user=Object(c["b"])(i),t.user.status="deleted",t.rolesList.splice(n,1,Object.assign({},t.user)),t.$message({type:"success",message:"Delete succed!"});case 6:case"end":return e.stop()}},e)}))).catch(function(e){console.error(e)})},generateTree:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=arguments.length>2?arguments[2]:void 0,i=[],a=!0,r=!1,l=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var c=s.value,d=u.a.resolve(t,c.path);c.children&&(c.children=this.generateTree(c.children,d,n)),(n.includes(d)||c.children&&c.children.length>=1)&&i.push(c)}}catch(p){r=!0,l=p}finally{try{a||null==o.return||o.return()}finally{if(r)throw l}}return i},confirmRole:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,n,i,a,r,l,s,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t="edit"===this.dialogType,!t){e.next=14;break}return e.next=4,Object(p["g"])(this.user.id,this.user);case 4:n=0;case 5:if(!(n<this.rolesList.length)){e.next=12;break}if(this.rolesList[n].id!==this.user.id){e.next=9;break}return this.rolesList.splice(n,1,Object.assign({},this.user)),e.abrupt("break",12);case 9:n++,e.next=5;break;case 12:e.next=21;break;case 14:return e.next=16,Object(p["a"])(this.user);case 16:i=e.sent,a=i.data,this.user.id=a.id,this.user.status=a.status,this.rolesList.push(this.user);case 21:r=this.user,l=r.role,s=r.description,o=r.name,this.dialogVisible=!1,this.$notify({title:"Success",dangerouslyUseHTMLString:!0,message:"\n            <div>User Role: ".concat(l,"</div>\n            <div>User Nmae: ").concat(o,"</div>\n            <div>Description: ").concat(s,"</div>\n          "),type:"success"});case 24:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onlyOneShowingChild:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=null,i=e.filter(function(e){return!e.hidden});return 1===i.length?(n=i[0],n.path=u.a.resolve(t.path,n.path),n):0===i.length&&(n=Object(r["a"])({},t,{path:"",noShowingChildren:!0}),n)},getList:function(){var e=this;this.listLoading=!0,Object(p["c"])(this.listQuery).then(function(t){e.rolesList=t.data.items,e.total=t.data.total,e.listLoading=!1})}}},g=f,m=(n("62ec"),n("2877")),b=Object(m["a"])(g,i,a,!1,null,"2ebef252",null);t["default"]=b.exports},e498:function(e,t,n){"use strict";var i=n("7456"),a=n.n(i);a.a}}]);